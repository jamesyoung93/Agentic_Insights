{
  "schema_version": "1.0",
  "metadata": {
    "run_id": "20251112_0348",
    "generated_at": "2025-11-12T03:48:00Z",
    "repository": "Agentic_Insights",
    "entry_point": "streamlit_app_ULTIMATE.py",
    "description": "Autonomous AI-driven discovery system with statistical rigor"
  },
  "nodes": [
    {
      "id": "n_csv_data",
      "label": "CSV Data",
      "type": "source",
      "lane": "Sources",
      "verified": true,
      "evidence": [
        {
          "path": "streamlit_app_ULTIMATE.py",
          "line_from": 121,
          "line_to": 155,
          "snippet": "customers_paths = ['data/customers.csv'...]; competitor_paths = ['data/competitor_data.csv'...]"
        }
      ]
    },
    {
      "id": "n_user_input",
      "label": "User Input",
      "type": "source",
      "lane": "Sources",
      "verified": true,
      "evidence": [
        {
          "path": "streamlit_app_ULTIMATE.py",
          "line_from": 1153,
          "line_to": 1230,
          "snippet": "st.sidebar...api_key_input...objective...max_cycles"
        }
      ]
    },
    {
      "id": "n_literature",
      "label": "Literature Store",
      "type": "source",
      "lane": "Sources",
      "verified": true,
      "evidence": [
        {
          "path": "agents/literature_searcher.py",
          "line_from": 17,
          "line_to": 27,
          "snippet": "literature_dir='knowledge/literature'...literature_index.json"
        }
      ]
    },
    {
      "id": "n_streamlit_app",
      "label": "Streamlit Orchestrator",
      "type": "process",
      "lane": "Processing",
      "verified": true,
      "evidence": [
        {
          "path": "streamlit_app_ULTIMATE.py",
          "line_from": 749,
          "line_to": 1077,
          "snippet": "def run_discovery_cycle(cycle_num, objective, df, use_llm, api_key, model)"
        }
      ]
    },
    {
      "id": "n_data_loader",
      "label": "Data Loader",
      "type": "process",
      "lane": "Processing",
      "verified": true,
      "evidence": [
        {
          "path": "streamlit_app_ULTIMATE.py",
          "line_from": 116,
          "line_to": 265,
          "snippet": "def load_data()...def generate_sample_data()"
        }
      ]
    },
    {
      "id": "n_stats_engine",
      "label": "Statistical Analysis",
      "type": "process",
      "lane": "Processing",
      "verified": true,
      "evidence": [
        {
          "path": "streamlit_app_ULTIMATE.py",
          "line_from": 283,
          "line_to": 461,
          "snippet": "def perform_statistical_analysis()...scipy_stats.pearsonr...ttest_ind...f_oneway"
        }
      ]
    },
    {
      "id": "n_llm_gateway",
      "label": "LLM Gateway",
      "type": "process",
      "lane": "Processing",
      "verified": true,
      "evidence": [
        {
          "path": "streamlit_app_ULTIMATE.py",
          "line_from": 463,
          "line_to": 709,
          "snippet": "generate_research_questions_llm()...synthesize_discoveries_llm()...openai.chat.completions.create()"
        }
      ]
    },
    {
      "id": "n_world_model",
      "label": "World Model",
      "type": "process",
      "lane": "Processing",
      "verified": true,
      "evidence": [
        {
          "path": "world_model_builder.py",
          "line_from": 44,
          "line_to": 397,
          "snippet": "class WorldModel...add_discovery()...add_trajectory()...save()"
        }
      ]
    },
    {
      "id": "n_lit_agent",
      "label": "Literature Agent",
      "type": "process",
      "lane": "Processing",
      "verified": true,
      "evidence": [
        {
          "path": "agents/literature_searcher.py",
          "line_from": 12,
          "line_to": 228,
          "snippet": "class LiteratureSearchAgent...def search()...def _extract_insights()"
        }
      ]
    },
    {
      "id": "n_report_gen",
      "label": "Report Generator",
      "type": "process",
      "lane": "Processing",
      "verified": true,
      "evidence": [
        {
          "path": "auto_enhanced_report.py",
          "line_from": 12,
          "line_to": 284,
          "snippet": "class AutoEnhancedReportGenerator...generate_enhanced_report()"
        }
      ]
    },
    {
      "id": "n_world_model_store",
      "label": "World Model DB",
      "type": "store",
      "lane": "Storage",
      "verified": true,
      "evidence": [
        {
          "path": "world_model_builder.py",
          "line_from": 232,
          "line_to": 247,
          "snippet": "def save()...json.dump(self.to_dict(), f)...world_model.json"
        }
      ]
    },
    {
      "id": "n_session_store",
      "label": "Session State",
      "type": "store",
      "lane": "Storage",
      "verified": true,
      "evidence": [
        {
          "path": "streamlit_app_ULTIMATE.py",
          "line_from": 48,
          "line_to": 64,
          "snippet": "st.session_state.discovery_state = {'running': False, 'current_cycle': 0...}"
        }
      ]
    },
    {
      "id": "n_dashboard",
      "label": "Interactive Dashboard",
      "type": "output",
      "lane": "Outputs",
      "verified": true,
      "evidence": [
        {
          "path": "streamlit_app_ULTIMATE.py",
          "line_from": 1279,
          "line_to": 1636,
          "snippet": "tab1, tab2, tab3, tab4, tab5 = st.tabs()...st.dataframe()...st.metric()"
        }
      ]
    },
    {
      "id": "n_reports",
      "label": "Reports",
      "type": "output",
      "lane": "Outputs",
      "verified": true,
      "evidence": [
        {
          "path": "auto_enhanced_report.py",
          "line_from": 263,
          "line_to": 268,
          "snippet": "with open(self.output_file, 'w')...auto_enhanced_report.txt"
        }
      ]
    }
  ],
  "edges": [
    {
      "source": "n_csv_data",
      "target": "n_data_loader",
      "relation": "feeds",
      "label": "CSV batch",
      "verified": true,
      "evidence": [
        {
          "path": "streamlit_app_ULTIMATE.py",
          "line_from": 121,
          "line_to": 133,
          "snippet": "df = pd.read_csv(path)"
        }
      ]
    },
    {
      "source": "n_user_input",
      "target": "n_streamlit_app",
      "relation": "configures",
      "label": "params",
      "verified": true,
      "evidence": [
        {
          "path": "streamlit_app_ULTIMATE.py",
          "line_from": 1384,
          "line_to": 1451,
          "snippet": "objective=state['objective']...api_key=state.get('api_key', '')...model=model_choice"
        }
      ]
    },
    {
      "source": "n_data_loader",
      "target": "n_streamlit_app",
      "relation": "feeds",
      "label": "DataFrame",
      "verified": true,
      "evidence": [
        {
          "path": "streamlit_app_ULTIMATE.py",
          "line_from": 1386,
          "line_to": 1387,
          "snippet": "df = load_data()...state['df'] = df"
        }
      ]
    },
    {
      "source": "n_streamlit_app",
      "target": "n_stats_engine",
      "relation": "invokes",
      "label": "questions",
      "verified": true,
      "evidence": [
        {
          "path": "streamlit_app_ULTIMATE.py",
          "line_from": 786,
          "line_to": 789,
          "snippet": "analysis_result = perform_statistical_analysis(question, df, cycle_num)"
        }
      ]
    },
    {
      "source": "n_streamlit_app",
      "target": "n_llm_gateway",
      "relation": "invokes",
      "label": "prompts",
      "verified": true,
      "evidence": [
        {
          "path": "streamlit_app_ULTIMATE.py",
          "line_from": 769,
          "line_to": 770,
          "snippet": "questions = generate_research_questions_llm(objective, context, cycle_num, api_key, model)"
        }
      ]
    },
    {
      "source": "n_stats_engine",
      "target": "n_world_model",
      "relation": "feeds",
      "label": "results",
      "verified": true,
      "evidence": [
        {
          "path": "streamlit_app_ULTIMATE.py",
          "line_from": 792,
          "line_to": 796,
          "snippet": "trajectory = wm.add_trajectory(trajectory_type='data_analysis', outputs=analysis_result.get('statistical_evidence'))"
        }
      ]
    },
    {
      "source": "n_llm_gateway",
      "target": "n_world_model",
      "relation": "feeds",
      "label": "discoveries",
      "verified": true,
      "evidence": [
        {
          "path": "streamlit_app_ULTIMATE.py",
          "line_from": 870,
          "line_to": 876,
          "snippet": "discovery = wm.add_discovery(title=disc_title, summary=disc_data.get('description'))"
        }
      ]
    },
    {
      "source": "n_literature",
      "target": "n_lit_agent",
      "relation": "feeds",
      "label": "papers",
      "verified": true,
      "evidence": [
        {
          "path": "agents/literature_searcher.py",
          "line_from": 168,
          "line_to": 178,
          "snippet": "paper_file = os.path.join(self.literature_dir, f'{paper['id']}.txt')...with open(paper_file, 'r')"
        }
      ]
    },
    {
      "source": "n_streamlit_app",
      "target": "n_lit_agent",
      "relation": "invokes",
      "label": "queries",
      "verified": true,
      "evidence": [
        {
          "path": "streamlit_app_ULTIMATE.py",
          "line_from": 813,
          "line_to": 814,
          "snippet": "lit_result = search_literature_llm(question, api_key, model)"
        }
      ]
    },
    {
      "source": "n_world_model",
      "target": "n_world_model_store",
      "relation": "persists",
      "label": "JSON",
      "verified": true,
      "evidence": [
        {
          "path": "world_model_builder.py",
          "line_from": 232,
          "line_to": 244,
          "snippet": "def save()...json.dump(self.to_dict(), f, indent=2)"
        }
      ]
    },
    {
      "source": "n_streamlit_app",
      "target": "n_session_store",
      "relation": "persists",
      "label": "state",
      "verified": true,
      "evidence": [
        {
          "path": "streamlit_app_ULTIMATE.py",
          "line_from": 879,
          "line_to": 887,
          "snippet": "state['discoveries'].append({...})"
        }
      ]
    },
    {
      "source": "n_world_model",
      "target": "n_report_gen",
      "relation": "feeds",
      "label": "data",
      "verified": true,
      "evidence": [
        {
          "path": "streamlit_app_ULTIMATE.py",
          "line_from": 1096,
          "line_to": 1108,
          "snippet": "generator.generate_from_cycle_data(cycle_results)...discoveries...trajectories...world_model"
        }
      ]
    },
    {
      "source": "n_report_gen",
      "target": "n_reports",
      "relation": "produces",
      "label": "TXT",
      "verified": true,
      "evidence": [
        {
          "path": "auto_enhanced_report.py",
          "line_from": 263,
          "line_to": 268,
          "snippet": "with open(self.output_file, 'w', encoding='utf-8') as f: f.write(report_text)"
        }
      ]
    },
    {
      "source": "n_session_store",
      "target": "n_dashboard",
      "relation": "feeds",
      "label": "live data",
      "verified": true,
      "evidence": [
        {
          "path": "streamlit_app_ULTIMATE.py",
          "line_from": 1476,
          "line_to": 1503,
          "snippet": "st.metric('Total Cycles', state['current_cycle'])...trajectory_df = pd.DataFrame([...for t in state['trajectories']])"
        }
      ]
    }
  ]
}
